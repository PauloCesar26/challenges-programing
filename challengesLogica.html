<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 1) Challenge calculate shopping
        const products = [];
        let addMoreProducts = true;

        const calculateDiscount = (price, discount) => {
            const priceDiscount = price * discount;
            const newPrice = price - priceDiscount;
            return newPrice;
        };

        while(addMoreProducts){
            const nameProduct = prompt("Enter the product name");
            const priceProduct = prompt("Enter the price of product");
            const qtdProduct = prompt("Enter the qtd of product");

            const infoProduct = {
                name: nameProduct,
                price: parseFloat(priceProduct).toFixed(2),
                qtd: parseInt(qtdProduct),
            };

            products.push(infoProduct);

            const more = prompt("Do you want add more products? s/n").toLowerCase();
            if(more !== "s"){
                addMoreProducts = false;
            }
        }

        const pricesProducts = products.map((p) => {
            return p.price * p.qtd;
        });
        const sumPrice = pricesProducts.reduce((acc, p) => acc + Number(p), 0);
        
        console.log(products);
        console.log("--------------");
        console.log(`Sum of prices: ${parseFloat(sumPrice).toFixed(2)}`);
        console.log("--------------");

        if(sumPrice > 500){
            console.log(`The value of your buy is bigger that 500, so you get 10% off \nNew Price your buy: ${calculateDiscount(sumPrice, 0.10)}`);
        }
    </script>
</body>
</html>